vamos começar com a parte de programação, vou omeçar om a função da main

// Insere arquivos no arquivador .vc.
// argc Quantidade de argumentos da linha de comando.
// argv Vetor de argumentos da linha de comando.
// compress Define se os arquivos devem ser comprimidos (1) ou não (0).

void vinac_insert(int argc, char *argv[], int compress);

na minha cabeça, essa função, ela chama a função 

//Insere um arquivo no .vc (com ou sem compressão).

// nomeArquivo  Caminho do arquivo no disco.
// vc           Ponteiro para o arquivo .vc.
// offsetAtual  Offset onde o novo arquivo será inserido.
// out          Struct preenchida com os metadados do membro.
// compressao   1 para compactar, 0 para armazenar puro.

// 0 se sucesso, <0 se erro.

int inserirArquivo(const char* nomeArquivo, FILE* vc, long* offsetAtual, ArquivoMembro* out, int compressao);

e depois de realizada a inserção, atualizamos o diretorio com essa né?

// Adiciona um novo membro ao índice (ou substitui se já existir).

void adicionarAoIndice(IndiceArquivador* idx, ArquivoMembro membro);